<!DOCTYPE html>
<html lang="zh-Hant">
<head>
<meta charset="UTF-8" />
<title>Arwen é–‹åœ˜è³¼ç‰©</title>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC&display=swap" rel="stylesheet">
<style>
  body { font-family: "Noto Sans TC", sans-serif; background: #f3f3f3; margin: 0; padding: 0; }
  .product-wrapper { display: flex; flex-wrap: wrap; gap: 20px; padding: 20px; }
  .product-card { background: #fff; padding: 10px; border: 1px solid #ccc; border-radius: 8px; width: 200px; text-align: center; }
  .product-title { margin: 10px 0; font-weight: bold; }
  .qty-btn { width: 25px; height: 25px; background: #d7a9f9; border: none; border-radius: 5px; color: white; cursor: pointer; }
  .qty-input { width: 40px; text-align: center; }
  .cart-floating { position: fixed; right: 20px; bottom: 20px; background: #fff; border: 1px solid #aaa; border-radius: 8px; box-shadow: 0 0 10px rgba(0,0,0,0.1); width: 250px; max-height: 300px; overflow-y: auto; z-index: 1000; }
  .cart-header { background: #6e46ae; color: #fff; padding: 10px; border-top-left-radius: 8px; border-top-right-radius: 8px; font-size: 16px; }
  .cart-body { padding: 10px; }
  .cart-body ul { list-style: none; padding: 0; margin: 0; }
  .cart-body li { margin-bottom: 5px; }
  .cart-total { font-weight: bold; margin-top: 10px; text-align: right; }
  .checkout-btn { width: 100%; background: linear-gradient(45deg, #6e46ae, #d7a9f9); color: #fff; border: none; border-radius: 5px; padding: 8px; margin-top: 10px; cursor: pointer; }
  .checkout-section { display: none; margin: 20px; padding: 20px; border: 2px dashed #ccc; border-radius: 8px; background: #fff; }
  .form-group { margin-bottom: 10px; }
  .form-group label { display: block; margin-bottom: 3px; }
  .form-group input, .form-group select { width: 100%; padding: 6px; border: 1px solid #ccc; border-radius: 4px; }
</style>
</head>
<body>

<div class="product-wrapper">
  <div class="product-card" data-name="é»ƒ-é›¨å‚˜" data-price="190">
    <div class="product-title">é»ƒ-é›¨å‚˜ - $190</div>
    <button class="qty-btn" onclick="updateQty(this, -1)">-</button>
    <input type="number" class="qty-input" value="0" readonly>
    <button class="qty-btn" onclick="updateQty(this, 1)">+</button>
  </div>
  <div class="product-card" data-name="è—-è­·ç…§ä¿è­·å¥—" data-price="150">
    <div class="product-title">è—-è­·ç…§ä¿è­·å¥— - $150</div>
    <button class="qty-btn" onclick="updateQty(this, -1)">-</button>
    <input type="number" class="qty-input" value="0" readonly>
    <button class="qty-btn" onclick="updateQty(this, 1)">+</button>
  </div>
</div>

<!-- æ‡¸æµ®å°è³¼ç‰©è»Š -->
<div class="cart-floating">
  <div class="cart-header">ğŸ›’ å°è³¼ç‰©è»Š</div>
  <div class="cart-body" id="cart-items">
    <p>è³¼ç‰©è»Šæ˜¯ç©ºçš„ã€‚</p>
  </div>
  <button class="checkout-btn" onclick="showCheckout()">çµå¸³</button>
</div>

<!-- çµå¸³è¡¨å–® -->
<div class="checkout-section" id="checkout-section">
  <h3>çµå¸³è³‡æ–™</h3>
  <div id="order-summary"></div>
  <div class="form-group">
    <label for="email">*Gmailä¿¡ç®±</label>
    <input type="text" id="email" placeholder="xxxxx@gmail.com" required>
  </div>
  <div class="form-group">
    <label for="name">*ç¤¾ç¾¤å…§æ‚¨çš„å§“å</label>
    <input type="text" id="name" required>
  </div>
  <div class="form-group">
    <label for="amount">*åŒ¯æ¬¾/ç„¡å¡é‡‘é¡</label>
    <input type="text" id="amount" required>
  </div>
  <div class="form-group">
    <label for="bank">åŒ¯æ¬¾éŠ€è¡Œ+æœ«äº”ç¢¼</label>
    <input type="text" id="bank">
  </div>
  <div class="form-group">
    <label for="time">ç„¡å¡æ—¥æœŸæ™‚é–“</label>
    <input type="text" id="time">
  </div>
  <div class="form-group">
    <label for="agree">*æˆ‘å·²çœ‹éä¸‹å–®é ˆçŸ¥ä¸¦åŒæ„</label>
    <select id="agree" required><option value="">è«‹é¸æ“‡</option><option value="æ˜¯">æ˜¯</option></select>
  </div>
  <button class="checkout-btn" onclick="submitOrder()">é€å‡ºè¨‚å–®</button>
</div>

<script>
  const cart = [];

  function updateQty(button, delta) {
    const input = button.parentElement.querySelector('.qty-input');
    let qty = parseInt(input.value) + delta;
    if (qty < 0) qty = 0;
    input.value = qty;
    updateCart();
  }

  function updateCart() {
    cart.length = 0;
    document.querySelectorAll(".product-card").forEach(card => {
      const name = card.dataset.name;
      const price = parseInt(card.dataset.price);
      const qty = parseInt(card.querySelector(".qty-input").value);
      if (qty > 0) cart.push({ name, price, qty });
    });
    renderCart();
  }

  function renderCart() {
    const cartDiv = document.getElementById('cart-items');
    if (cart.length === 0) {
      cartDiv.innerHTML = '<p>è³¼ç‰©è»Šæ˜¯ç©ºçš„ã€‚</p>';
    } else {
      let html = '<ul>';
      let total = 0;
      cart.forEach(item => {
        html += `<li>${item.name} x${item.qty} ($${item.price})</li>`;
        total += item.price * item.qty;
      });
      html += '</ul>';
      html += `<div class="cart-total">ç¸½é‡‘é¡ï¼š$${total}</div>`;
      cartDiv.innerHTML = html;
    }
  }

  function showCheckout() {
    if (cart.length === 0) {
      alert("è³¼ç‰©è»Šæ˜¯ç©ºçš„ï¼");
      return;
    }
    let summary = "<strong>æ‚¨çš„è³¼è²·æ˜ç´°ï¼š</strong><br><br>";
    cart.forEach(item => {
      summary += `${item.name} x${item.qty}<br>`;
    });
    document.getElementById("order-summary").innerHTML = summary;
    document.getElementById("checkout-section").style.display = "block";
    window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
  }

  function submitOrder() {
    const email = document.getElementById("email").value.trim();
    const name = document.getElementById("name").value.trim();
    const amount = document.getElementById("amount").value.trim();
    const bank = document.getElementById("bank").value.trim();
    const time = document.getElementById("time").value.trim();
    const agree = document.getElementById("agree").value;

    if (!email || !name || !amount || !agree) {
      alert("è«‹å¡«å¯«æ‰€æœ‰å¿…å¡«æ¬„ä½ï¼");
      return;
    }

    // âœ… é€™è£¡å¯ä¸²æ¥ Google Forms
    alert("è¨‚å–®å·²é€å‡ºï¼æ„Ÿè¬æ‚¨çš„è³¼è²·ï¼");
    location.reload(); // å¯æ”¹ç‚ºå°å‘å…¶ä»–é é¢
  }
</script>

</body>
</html>
